#!/bin/bash
# start.sh - ุงุณฺฉุฑูพุช ุดุฑูุน ุฑุจุงุช

echo "๐ ุฏุฑ ุญุงู ุดุฑูุน ุฑุจุงุช UserBot..."

# ุจุฑุฑุณ ูุงู .env
if [ ! -f ".env" ]; then
    echo "โ ูุงู .env ุงูุช ูุดุฏ!"
    echo "   ูุทูุงู ุงุฒ .env.example ฺฉ ฺฉูพ ุงุฌุงุฏ ฺฉูุฏ ู ุงุทูุงุนุงุช ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ."
    exit 1
fi

# ุจุฑุฑุณ ูุงุจุณุชฺฏโูุง
if ! python3 -c "import pyrogram" &> /dev/null; then
    echo "โ ูุงุจุณุชฺฏโูุง Python ูุตุจ ูุดุฏูโุงูุฏ."
    echo "   ูุทูุงู ุฏุณุชูุฑ ุฒุฑ ุฑุง ุงุฌุฑุง ฺฉูุฏ:"
    echo "   pip3 install -r requirements.txt"
    exit 1
fi

# ุดุฑูุน ุฑุจุงุช
echo "๐ง ุดุฑูุน ุฑุจุงุช ุจุง ุชูุธูุงุช ูุนู..."
python3 main.py

# ุงฺฏุฑ ุฑุจุงุช ูุชููู ุดุฏ
if [ $? -ne 0 ]; then
    echo "โ ุฑุจุงุช ุจุง ุฎุทุง ูุชููู ุดุฏ."
    echo "   ูุทูุงู ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ: logs/bot.log"
    exit 1
fi
